# Возможные проблемы и способы их устранения

* [Дублируется иконка в доке Plank](#дублируется-иконка-в-доке-plank)

---

## Дублируется иконка в доке Plank

В доке Plank при запуске приложения, установленного через Flatpak, иногда можно обнаружить задвоенную иконку.

![duplicate-icon](https://github.com/ded-ared/eos-all-about/blob/main/images/duplicate-icon-plank.png)

Чтобы избавиться от этого [глюка системы](https://github.com/elementary/dock/issues/64), найдите и отредактируйте десктопный файл приложения с расширением `.desktop`, добавив в него строку `StartupWMClass=<ЗНАЧЕНИЕ>`.

Ниже приведена пошаговая инструкция (на примере приложения **Transmission**).

1. Узнайте <ЗНАЧЕНИЕ>, которое нужно добавить в строку с классом для десктопного файла.
   
   1. Запустите приложение, у которого задвоилась иконка.
   
   2. Откройте терминал и введите команду: `xprop WM_CLASS`. Ваш курсор должен измениться на крестик.
   
   3. Наведите видоизмененный курсор на окно приложения и кликните по нему. В терминале появится значение, которое нужно добавить.
   
   ![](https://github.com/ded-ared/eos-all-about/blob/main/images/duplicate-icon-plank-value.png)

2. Найдите и откройте в текстовом редакторе файл приложения с расширением `.desktop`.   
   У меня он оказался вот здесь (см. путь ниже). Если ваше приложение установлено через Flatpak, ищите файл в этом же направлении.

```
/home/<ИМЯ_ПОЛЬЗОВАТЕЛЯ>/.local/share/flatpak/app/com.transmissionbt.Transmission/current/3d0fb3864db64add64e036679cccf94bd31d38ddcdd5b22ea263ad742b9ff458/export/share/applications/com.transmissionbt.Transmission.desktop
```

3. Вставьте в конце раздела [Desktop Entry] строку `StartupWMClass=transmission-gtk`

   ![](https://github.com/ded-ared/eos-all-about/blob/main/images/duplicate-icon-plank-string.png)

4. Сохраните изменения в файле и перезагрузите операционную систему. Можно перезапустить сеанс, но рекомендуется перезагрузка.

5. Запустите приложение. Дубликат иконки больше не должен появляться в доке.

> ⚠️ **Примечание**
> 
> После обновления приложения задвоенная иконка может вновь объявиться. В этом случае нужно заново добавить параметр `StartupWMClass=<ЗНАЧЕНИЕ>` в десктопный файл, как описано выше.

---
